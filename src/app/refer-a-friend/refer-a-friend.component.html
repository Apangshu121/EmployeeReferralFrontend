<app-navigation></app-navigation>

<div class="container">
  <h1>Upload Candidate Resume</h1>
  <label for="pdfFile">Select a PDF file:</label>
  <div class="form-group">
    <input
      type="file"
      id="resume"
      (change)="onFileChange($event)"
      accept=".pdf, .docx"
    />

    <button type="submit" (click)="uploadPdf()">Upload</button>
  </div>
  <form [formGroup]="refForm" (ngSubmit)="onSubmit()" *ngIf="!formClosed">
    <div class="candidateName">
      <label for="name">Candidate Name:</label>
      <div class="input-container">
        <i aria-hidden="true"></i>
        <input
          type="text"
          class="form-control input-field"
          id="candidateName"
          placeholder="Full Name"
          formControlName="candidateName"
          required
        />
      </div>
    </div>
    <div class="mobileNumber">
      <label for="phone">Mobile Number:</label>
      <div class="input-container">
        <i aria-hidden="true"></i>
        <input
          type="number"
          maxlength="10"
          class="form-control input-field"
          id="phone"
          placeholder="Phone Number"
          formControlName="contactNumber"
          required
        />
      </div>
    </div>
    <div class="emailid">
      <label for="email">Email Id:</label>
      <div class="input-container">
        <i aria-hidden="true"></i>
        <input
          type="text"
          class="form-control input-field"
          id="email"
          placeholder="Email Id"
          formControlName="candidateEmail"
          required
        />
      </div>
    </div>
    <div class="experience">
      <label for="experience">Experience:</label>
      <div class="input-container">
        <i aria-hidden="true"></i>
        <input
          type="number"
          min="0"
          class="form-control input-field"
          id="experience"
          placeholder="Experience in years and months"
          formControlName="experience"
          required
        />
      </div>
    </div>
    <div class="primaryskill">
      <label for="primaryskill">Primary Skill:</label>
      <div class="input-container">
        <i aria-hidden="true"></i>
        <input
          type="text"
          class="form-control input-field"
          id="primaryskill"
          placeholder="Primary Skill"
          formControlName="primarySkill"
          required
        />
      </div>
    </div>
    <div class="pannumber">
      <label for="pannumber">Pan Number:</label>
      <div class="input-container">
        <i aria-hidden="true"></i>
        <input
          type="text"
          class="form-control input-field"
          maxlength="10"
          id="pannumber"
          placeholder="Pan Number"
          formControlName="panNumber"
          required
        />
      </div>
    </div>

    <div class="location">
      <label for="preferredlocation">Preferred Location:</label>
      <select
        id="preferredlocation"
        [(ngModel)]="preferredLocation"
        formControlName="preferredLocation"
        required
      >
        <option value="Bangalore">Bangalore</option>
        <option value="Gurgaon">Gurgaon</option>
        <option value="Hyderabad">Hyderabad</option>
        <option value="Mumbai">Mumbai</option>
        <option value="Chennai">Chennai</option>
      </select>
    </div>

    <div>
      <label for="willingToRelocate">
        <input type="checkbox" formControlName="willingToRelocate" />
        Are you willing to relocate
      </label>
    </div>
    <div class="notice-period">
      <label>Are you serving in notice period?</label>
      <div>
        <label
          style="display: flex; width: 325px; justify-content: space-around"
        >
          Yes
          <input
            type="radio"
            [(ngModel)]="noticePeriod"
            [ngModelOptions]="{ standalone: true }"
            value="yes"
          />
        </label>
        <label
          style="display: flex; width: 325px; justify-content: space-around"
        >
          No
          <input
            type="radio"
            [(ngModel)]="noticePeriod"
            [ngModelOptions]="{ standalone: true }"
            value="no"
          />
        </label>
      </div>
    </div>

    <div *ngIf="noticePeriod === 'yes'">
      <div class="notice-period-details">
        <label for="numberofdays"
          >Enter the number of days left in notice period:</label
        >
        <div class="input-container">
          <i aria-hidden="true"></i>
          <input
            type="text"
            class="form-control input-field"
            id="numberofdays"
            placeholder="Enter days"
            formControlName="noticePeriod"
          />
        </div>
      </div>
    </div>
    <div>
      <label for="radio">Having any offer in hand</label>
      <label>
        <input type="radio" formControlName="offerInHand" value="true" /> Yes
      </label>
      <label>
        <input type="radio" formControlName="offerInHand" value="false" /> No
      </label>
    </div>
    <div>
      <input type="checkbox" formControlName="vouch" />
      <label for="vouch"> I vouch for this candidate.</label>
    </div>
    <div>
      <label for="profileSource">Profile Source:</label>
      <select
        id="profileSource"
        [(ngModel)]="profileSource"
        formControlName="profileSource"
        required
      >
        <option value="LinkedIn">LinkedIn</option>
        <option value="Naukri">Naukri</option>
        <option value="Friend of friend">Friend of friend</option>
        <option value="Ex-colleague">Ex-colleague</option>
        <option value="Contacts">Contacts</option>
        <option value="Others">Others</option>
      </select>
    </div>
    <button type="submit">Submit</button>
  </form>

  <div id="result" *ngIf="extractedText !== null">
    <!-- <h2>Uploaded PDF:</h2> -->
    <iframe
      id="pdfViewer"
      type="application/pdf"
      width="100%"
      height="400px"
      [src]="pdfSrc"
    ></iframe>
  </div>
</div>
